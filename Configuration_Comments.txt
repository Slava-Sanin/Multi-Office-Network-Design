
Below are the settings with comments for each of the files:

! =================================================================
! HQ-Router Configuration
! =================================================================
service password-encryption          ! Enable encryption of all passwords in the configuration
!
hostname HQ-Router                   ! Router hostname
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode
!
ip route 0.0.0.0 0.0.0.0 Null0       ! Static default route directing all unrecognized traffic to Null0 (discard)
!
ip dhcp excluded-address 10.0.10.1 10.0.10.2  ! Exclude IP addresses from DHCP pools (e.g., for gateways or static assignments)
ip dhcp excluded-address 10.0.20.1
ip dhcp excluded-address 10.0.30.1
ip dhcp excluded-address 10.0.40.1
ip dhcp excluded-address 10.0.50.1
ip dhcp excluded-address 10.0.60.1 10.0.60.10
ip dhcp excluded-address 10.0.10.3
ip dhcp excluded-address 10.0.10.4
!
ip dhcp pool MANAGEMENT_VLAN         ! DHCP pool for Management VLAN
 network 10.0.10.0 255.255.255.0     ! Network and mask
 default-router 10.0.10.1          ! Default gateway for DHCP clients
 option 150 ip 192.168.255.1       ! TFTP server IP address (for IP phones)
 dns-server 8.8.8.8                ! DNS server for DHCP clients
ip dhcp pool SALES_VLAN              ! DHCP pool for Sales VLAN
 network 10.0.20.0 255.255.255.0
 default-router 10.0.20.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool MARKETING_VLAN          ! DHCP pool for Marketing VLAN
 network 10.0.30.0 255.255.255.0
 default-router 10.0.30.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool IT_VLAN                 ! DHCP pool for IT VLAN
 network 10.0.40.0 255.255.255.0
 default-router 10.0.40.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool GUEST_VLAN              ! DHCP pool for Guest VLAN
 network 10.0.50.0 255.255.255.0
 default-router 10.0.50.1
 dns-server 8.8.8.8
ip dhcp pool VOIP_VLAN               ! DHCP pool for VoIP VLAN
 network 10.0.60.0 255.255.255.0
 default-router 10.0.60.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
!
ip cef                               ! Enable Cisco Express Forwarding (CEF) for fast packet switching
no ipv6 cef                          ! Disable IPv6 CEF
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
no ip domain-lookup                  ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name hq.local              ! Set the domain name for the device
!
class-map match-any VOICE            ! Class map for voice traffic (VoIP)
 match ip dscp ef                  ! Match traffic with DSCP EF (Expedited Forwarding)
 match ip precedence 5             ! Match traffic with IP Precedence 5
class-map match-any CALL-SIGNALING   ! Class map for call signaling traffic
 match ip dscp cs3                 ! Match traffic with DSCP CS3
 match ip precedence 3             ! Match traffic with IP Precedence 3
class-map match-any DATA             ! Class map for data traffic
 match not ip dscp cs6              ! Match all traffic except DSCP CS6
 match not ip precedence 6          ! Match all traffic except IP Precedence 6
!
policy-map WAN-QoS-Policy            ! QoS policy for WAN connection
 class VOICE                       ! For VOICE class
  priority percent 30                ! Allocate 30% bandwidth with priority
 class CALL-SIGNALING              ! For CALL-SIGNALING class
  bandwidth remaining percent 10     ! Allocate 10% of remaining bandwidth
 class DATA                        ! For DATA class
  bandwidth remaining percent 60     ! Allocate 60% of remaining bandwidth
  random-detect                    ! Enable Random Early Detection (RED) to prevent congestion
 class class-default               ! For all other traffic
  fair-queue                       ! Use fair queuing
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Standard ACL 10: permit 10.0.10.0/24 network
access-list 10 permit 10.1.10.0 0.0.0.255  ! Permit 10.1.10.0/24 network
access-list 10 permit 10.2.10.0 0.0.0.255  ! Permit 10.2.10.0/24 network
!
access-list 100 permit ip 10.0.10.0 0.0.0.255 any  ! Extended ACL 100: permit IP traffic from 10.0.10.0/24 to any destination
access-list 100 permit ip 10.0.20.0 0.0.0.255 any
access-list 100 permit ip 10.0.30.0 0.0.0.255 any
access-list 100 permit ip 10.0.40.0 0.0.0.255 any
access-list 100 permit ip 10.0.50.0 0.0.0.255 any
access-list 100 permit ip 10.0.60.0 0.0.0.255 any
access-list 100 permit ip 10.1.10.0 0.0.0.255 any
access-list 100 permit ip 10.1.20.0 0.0.0.255 any
access-list 100 permit ip 10.1.30.0 0.0.0.255 any
access-list 100 permit ip 10.1.40.0 0.0.0.255 any
access-list 100 permit ip 10.1.50.0 0.0.0.255 any
access-list 100 permit ip 10.1.60.0 0.0.0.255 any
access-list 100 permit ip 10.2.10.0 0.0.0.255 any
access-list 100 permit ip 10.2.20.0 0.0.0.255 any
access-list 100 permit ip 10.2.30.0 0.0.0.255 any
access-list 100 permit ip 10.2.40.0 0.0.0.255 any
access-list 100 permit ip 10.2.50.0 0.0.0.255 any
access-list 100 permit ip 10.2.60.0 0.0.0.255 any
!
access-list 110 permit udp any any range 1719 1720  ! Extended ACL 110: permit UDP traffic in the range of ports 1719-1720 (H.323)
access-list 110 permit udp any any eq 5060           ! Permit UDP traffic on port 5060 (SIP)
access-list 110 permit tcp any any eq 5060           ! Permit TCP traffic on port 5060 (SIP)
access-list 110 permit tcp any any range 2000 2020    ! Permit TCP traffic in the range of ports 2000-2020
!
access-list 120 permit tcp any any eq 2000          ! Extended ACL 120: permit TCP traffic on port 2000
!
!
route-map VOIP_POLICY_IN permit 10                 ! Route-map VOIP_POLICY_IN, sequence 10
 match ip address 110                            ! Match traffic with ACL 110
 set ip precedence 5                             ! Set IP Precedence to 5
 set ip dscp ef                                  ! Set DSCP to EF
!
!
interface FastEthernet0/0.10                       ! Subinterface FastEthernet0/0.10 for VLAN 10 (Management)
 encapsulation dot1Q 10                           ! Dot1Q encapsulation for VLAN 10
 ip address 10.0.10.1 255.255.255.0               ! Subinterface IP address
 ip access-group MANAGEMENT_POLICY_IN in          ! Apply MANAGEMENT_POLICY_IN ACL for incoming traffic
 no shutdown                                      ! Enable the subinterface
!
interface FastEthernet0/0.20                       ! Subinterface FastEthernet0/0.20 for VLAN 20 (Sales)
 encapsulation dot1Q 20
 ip address 10.0.20.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.30                       ! Subinterface FastEthernet0/0.30 for VLAN 30 (Marketing)
 encapsulation dot1Q 30
 ip address 10.0.30.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.40                       ! Subinterface FastEthernet0/0.40 for VLAN 40 (IT)
 encapsulation dot1Q 40
 ip address 10.0.40.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.50                       ! Subinterface FastEthernet0/0.50 for VLAN 50 (Guest)
 encapsulation dot1Q 50
 ip address 10.0.50.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.60                       ! Subinterface FastEthernet0/0.60 for VLAN 60 (VoIP)
 encapsulation dot1Q 60
 ip address 10.0.60.1 255.255.255.0
 ip policy route-map VOIP_POLICY_IN in            ! Apply VOIP_POLICY_IN route-map for incoming traffic
 no shutdown
!
interface Serial1/0                                ! Serial interface Serial1/0
 no ip address                                    ! No IP address on the main interface
 encapsulation frame-relay                        ! Frame Relay encapsulation
 frame-relay lmi-type cisco                       ! Cisco LMI type for Frame Relay
 service-policy output WAN-QoS-Policy             ! Apply WAN-QoS-Policy QoS policy for outgoing traffic
 no shutdown                                      ! Enable the interface
!
interface Serial1/0.102 point-to-point             ! Subinterface Serial1/0.102 for connection to BR1-Router (point-to-point)
 description Connection to BR1-Router             ! Connection description
 frame-relay interface-dlci 102                   ! Frame Relay DLCI
 bandwidth 64                                     ! Bandwidth 64 Kbps
 ip address 10.255.0.1 255.255.255.252            ! Subinterface IP address
 no shutdown                                      ! Enable the subinterface
!
interface Serial1/0.103 point-to-point             ! Subinterface Serial1/0.103 for connection to BR2-Router (point-to-point)
 description Connection to BR2-Router             ! Connection description
 frame-relay interface-dlci 103                   ! Frame Relay DLCI
 bandwidth 64                                     ! Bandwidth 64 Kbps
 ip address 10.255.0.5 255.255.255.252            ! Subinterface IP address
 no shutdown                                      ! Enable the subinterface
!
interface Serial1/1                                ! Serial interface Serial1/1
 shutdown                                         ! Disable the interface
interface Serial1/2                                ! Serial interface Serial1/2
 shutdown                                         ! Disable the interface
interface Serial1/3                                ! Serial interface Serial1/3
 shutdown                                         ! Disable the interface
!
router ospf 1                                      ! OSPF routing protocol configuration, process 1
 router-id 192.168.255.1                          ! OSPF router ID
 log-adjacency-changes                            ! Log adjacency changes
 passive-interface default                        ! All interfaces are passive by default (do not send OSPF updates)
 no passive-interface Serial1/0.102               ! Make subinterface Serial1/0.102 active (send OSPF updates)
 no passive-interface Serial1/0.103               ! Make subinterface Serial1/0.103 active (send OSPF updates)
 network 10.0.10.0 0.0.0.255 area 0               ! Announce networks in OSPF area 0
 network 10.0.20.0 0.0.0.255 area 0
 network 10.0.30.0 0.0.0.255 area 0
 network 10.0.40.0 0.0.0.255 area 0
 network 10.0.50.0 0.0.0.255 area 0
 network 10.0.60.0 0.0.0.255 area 0
 network 10.255.0.0 0.0.0.3 area 0
 network 10.255.0.4 0.0.0.3 area 0
 network 192.168.255.1 0.0.0.0 area 0
 default-information originate                    ! Propagate the default route in OSPF
!
telephony-service                                  ! IP telephony service configuration
 max-ephones 20                                   ! Maximum number of IP phones
 max-dn 40                                        ! Maximum number of phone numbers
 ip source-address 192.168.255.1 port 2000        ! Source IP address and port for IP telephony
 auto assign 1 to 20                              ! Automatically assign numbers to phones
 create cnf-files                                 ! Create configuration files for phones
!
ephone-dn 1                                        ! Configure phone number 1
 number 1001                                      ! Phone number
ephone-dn 2                                        ! Configure phone number 2
 number 1002                                      ! Phone number
ephone-dn 3                                        ! Configure phone number 3
 number 1003                                      ! Phone number
ephone-dn 4                                        ! Configure phone number 4
 number 1004                                      ! Phone number
ephone-dn 5                                        ! Configure phone number 5
 number 1005                                      ! Phone number
ephone-dn 6                                        ! Configure phone number 6
 number 1006                                      ! Phone number
!
ephone 1                                           ! Configure IP phone 1
 mac-address 0001.6373.E2C7                         ! Phone MAC address
 type 7960                                        ! Phone type
 button 1:1                                       ! Assign button 1 to number 1
!
ephone 2                                           ! Configure IP phone 2
 mac-address 0001.6373.E2C8
 type 7960
 button 1:2
!
ephone 3                                           ! Configure IP phone 3
 mac-address 0001.6373.E2C9
 type 7960
 button 1:3
!
ephone 4                                           ! Configure IP phone 4
 mac-address 0001.6373.E2CA
 type 7960
 button 1:4
!
ephone 5                                           ! Configure IP phone 5
 mac-address 0001.6373.E2CB
 type 7960
 button 1:5
!
ephone 6                                           ! Configure IP phone 6
 mac-address 0001.6373.E2CC
 type 7960
 button 1:6
!
end



! -----------------------------------------------------------------
! HQ-L3-SW1 Switch Configuration
! -----------------------------------------------------------------
hostname HQ-L3-SW1
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message Of The Day" banner displayed upon login.
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name hq.local        ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Console line configuration
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent command input interruption by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Virtual terminal line configuration (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use local user database for authentication
!
no ip routing                  ! Disable IP routing (as this is an L3 switch, routing will be enabled via SVI)
ip default-gateway 10.0.10.1   ! Set the default gateway for the switch
!
spanning-tree vlan 1-4094 root primary  ! Set the switch as the primary root bridge for all VLANs
!
mls qos                        ! Enable QoS (Quality of Service) at the MLS (Multi-Layer Switching) level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign VLAN 10 the name "Management"
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign VLAN 20 the name "Sales"
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign VLAN 30 the name "Marketing"
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign VLAN 40 the name "IT"
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign VLAN 50 the name "Guest"
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign VLAN 60 the name "VoIP"
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign VLAN 999 the name "NATIVE_VLAN" (used as the Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Permit traffic from network 10.0.10.0/24 in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Permit traffic from network 10.1.10.0/24 in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Permit traffic from network 10.2.10.0/24 in ACL 10
!
interface Vlan10               ! VLAN 10 interface configuration (SVI - Switched Virtual Interface)
 ip address 10.0.10.2 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
interface GigabitEthernet1/0/1     ! GigabitEthernet1/0/1 interface configuration
 description Connected to HQ-Router Fa0/0  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode as trunk
 switchport trunk native vlan 999         ! Set the trunk's Native VLAN to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs to pass through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface GigabitEthernet1/0/2     ! GigabitEthernet1/0/2 interface configuration
 description Connected to HQ-L2-SW1 Gi0/1  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode as trunk
 switchport trunk native vlan 999         ! Set the trunk's Native VLAN to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs to pass through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface GigabitEthernet1/0/3     ! GigabitEthernet1/0/3 interface configuration
 description Connected to HQ-L2-SW2 Gi0/1  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode as trunk
 switchport trunk native vlan 999         ! Set the trunk's Native VLAN to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs to pass through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface range GigabitEthernet1/0/4-24  ! GigabitEthernet1/0/4-24 interface range configuration
 shutdown                               ! Disable these interfaces
!
end



! -----------------------------------------------------------------
! HQ-L2-SW1 Switch Configuration
! -----------------------------------------------------------------
hostname HQ-L2-SW1
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message of the Day" banner displayed upon login
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name hq.local        ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Configure the console line
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent interruption of command input by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Configure virtual terminal lines (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
mls qos                        ! Enable Quality of Service (QoS) at the Multi-Layer Switching level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
spanning-tree portfast default           ! Enable Portfast by default on all access ports
spanning-tree portfast bpduguard default ! Enable BPDU Guard by default on all ports with Portfast to prevent loops
!
interface Vlan10               ! Configure VLAN 10 interface (SVI - Switched Virtual Interface)
 ip address 10.0.10.5 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
ip default-gateway 10.0.10.1   ! Set the default gateway for the switch
!
interface GigabitEthernet0/1       ! Configure interface GigabitEthernet0/1
 description Connected to HQ-L3-SW1 Gi1/0/2  ! Interface description
 switchport trunk encapsulation dot1q       ! Set trunk encapsulation to Dot1q
 switchport mode trunk                      ! Set the port mode to trunk
 switchport trunk native vlan 999           ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                         ! Trust DSCP values for QoS on this port
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/1          ! Configure interface FastEthernet0/1
 description Connected to Management PC  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 10                  ! Assign the port to VLAN 10
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/2          ! Configure interface FastEthernet0/2
 description Connected to Sales PC      ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 20                  ! Assign the port to VLAN 20
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/3          ! Configure interface FastEthernet0/3
 description Connected to Marketing PC  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 30                  ! Assign the port to VLAN 30
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/20         ! Configure interface FastEthernet0/20
 description Connected to VoIP Phone  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40 (for data)
 switchport voice vlan 60                   ! Assign voice VLAN 60
 auto qos voip trust                        ! Enable automatic QoS for VoIP, trusting QoS markings
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 2         ! Allow up to 2 MAC addresses on the port (for phone and PC behind it)
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface range FastEthernet0/4-19, FastEthernet0/21-24  ! Configure range of interfaces FastEthernet0/4-19 and FastEthernet0/21-24
 shutdown                                   ! Disable these interfaces
!
end



! -----------------------------------------------------------------
! HQ-L2-SW2 Switch Configuration
! -----------------------------------------------------------------
hostname HQ-L2-SW2
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message of the Day" banner displayed upon login
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name hq.local        ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Configure the console line
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent interruption of command input by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Configure virtual terminal lines (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
mls qos                        ! Enable Quality of Service (QoS) at the Multi-Layer Switching level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
spanning-tree portfast default           ! Enable Portfast by default on all access ports
spanning-tree portfast bpduguard default ! Enable BPDU Guard by default on all ports with Portfast to prevent loops
!
interface Vlan10               ! Configure VLAN 10 interface (SVI - Switched Virtual Interface)
 ip address 10.0.10.6 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
ip default-gateway 10.0.10.1   ! Set the default gateway for the switch
!
interface GigabitEthernet0/1       ! Configure interface GigabitEthernet0/1
 description Connected to HQ-L3-SW1 Gi1/0/3  ! Interface description
 switchport trunk encapsulation dot1q       ! Set trunk encapsulation to Dot1q
 switchport mode trunk                      ! Set the port mode to trunk
 switchport trunk native vlan 999           ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                         ! Trust DSCP values for QoS on this port
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/3          ! Configure interface FastEthernet0/3
 description Connected to Sales PC      ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 20                  ! Assign the port to VLAN 20
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/1          ! Configure interface FastEthernet0/1
 description Connected to IT PC         ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/2          ! Configure interface FastEthernet0/2
 description Connected to Guest PC      ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 50                  ! Assign the port to VLAN 50
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/20         ! Configure interface FastEthernet0/20
 description Connected to VoIP Phone  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40 (for data)
 switchport voice vlan 60                   ! Assign voice VLAN 60
 auto qos voip trust                        ! Enable automatic QoS for VoIP, trusting QoS markings
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 2         ! Allow up to 2 MAC addresses on the port (for phone and PC behind it)
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface range FastEthernet0/4-19, FastEthernet0/21-24  ! Configure range of interfaces FastEthernet0/4-19 and FastEthernet0/21-24
 shutdown                                   ! Disable these interfaces
!
end



! =================================================================
! BR1-Router Configuration
! =================================================================
service password-encryption          ! Enable encryption of all passwords in the configuration
!
hostname BR1-Router                  ! Router hostname
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode
!
ip dhcp excluded-address 10.1.10.1   ! Exclude IP addresses from DHCP pools (e.g., for gateways or static assignments)
ip dhcp excluded-address 10.1.20.1
ip dhcp excluded-address 10.1.30.1
ip dhcp excluded-address 10.1.40.1
ip dhcp excluded-address 10.1.50.1
ip dhcp excluded-address 10.1.60.1
ip dhcp excluded-address 10.1.10.5
ip dhcp excluded-address 10.1.10.7
ip dhcp excluded-address 10.1.10.9
!
ip dhcp pool MANAGEMENT_VLAN         ! DHCP pool for Management VLAN
 network 10.1.10.0 255.255.255.0     ! Network and mask
 default-router 10.1.10.1          ! Default gateway for DHCP clients
 option 150 ip 192.168.255.1       ! TFTP server IP address (for IP phones)
 dns-server 8.8.8.8                ! DNS server for DHCP clients
ip dhcp pool SALES_VLAN              ! DHCP pool for Sales VLAN
 network 10.1.20.0 255.255.255.0
 default-router 10.1.20.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool MARKETING_VLAN          ! DHCP pool for Marketing VLAN
 network 10.1.30.0 255.255.255.0
 default-router 10.1.30.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool IT_VLAN                 ! DHCP pool for IT VLAN
 network 10.1.40.0 255.255.255.0
 default-router 10.1.40.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool GUEST_VLAN              ! DHCP pool for Guest VLAN
 network 10.1.50.0 255.255.255.0
 default-router 10.1.50.1
 dns-server 8.8.8.8
ip dhcp pool VOIP_VLAN               ! DHCP pool for VoIP VLAN
 network 10.1.60.0 255.255.255.0
 default-router 10.1.60.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
!
ip cef                               ! Enable Cisco Express Forwarding (CEF) for fast packet switching
no ipv6 cef                          ! Disable IPv6 CEF
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
no ip domain-lookup                  ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name br1.local             ! Set the domain name for the device
!
class-map match-any VOICE            ! Class map for voice traffic (VoIP)
 match ip dscp ef                  ! Match traffic with DSCP EF (Expedited Forwarding)
 match ip precedence 5             ! Match traffic with IP Precedence 5
class-map match-any CALL-SIGNALING   ! Class map for call signaling traffic
 match ip dscp cs3                 ! Match traffic with DSCP CS3
 match ip precedence 3             ! Match traffic with IP Precedence 3
class-map match-any DATA             ! Class map for data traffic
 match not ip dscp cs6              ! Match all traffic except DSCP CS6
 match not ip precedence 6          ! Match all traffic except IP Precedence 6
!
policy-map WAN-QoS-Policy            ! QoS policy for WAN connection
 class VOICE                       ! For VOICE class
  priority percent 30                ! Allocate 30% bandwidth with priority
 class CALL-SIGNALING              ! For CALL-SIGNALING class
  bandwidth remaining percent 10     ! Allocate 10% of remaining bandwidth
 class DATA                        ! For DATA class
  bandwidth remaining percent 60     ! Allocate 60% of remaining bandwidth
  random-detect                    ! Enable Random Early Detection (RED) to prevent congestion
 class class-default               ! For all other traffic
  fair-queue                       ! Use fair queuing
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Standard ACL 10: permit 10.0.10.0/24 network
access-list 10 permit 10.1.10.0 0.0.0.255  ! Permit 10.1.10.0/24 network
access-list 10 permit 10.2.10.0 0.0.0.255  ! Permit 10.2.10.0/24 network
!
access-list 100 permit ip 10.0.10.0 0.0.0.255 any  ! Extended ACL 100: permit IP traffic from 10.0.10.0/24 to any destination
access-list 100 permit ip 10.0.20.0 0.0.0.255 any
access-list 100 permit ip 10.0.30.0 0.0.0.255 any
access-list 100 permit ip 10.0.40.0 0.0.0.255 any
access-list 100 permit ip 10.0.50.0 0.0.0.255 any
access-list 100 permit ip 10.0.60.0 0.0.0.255 any
access-list 100 permit ip 10.1.10.0 0.0.0.255 any
access-list 100 permit ip 10.1.20.0 0.0.0.255 any
access-list 100 permit ip 10.1.30.0 0.0.0.255 any
access-list 100 permit ip 10.1.40.0 0.0.0.255 any
access-list 100 permit ip 10.1.50.0 0.0.0.255 any
access-list 100 permit ip 10.1.60.0 0.0.0.255 any
access-list 100 permit ip 10.2.10.0 0.0.0.255 any
access-list 100 permit ip 10.2.20.0 0.0.0.255 any
access-list 100 permit ip 10.2.30.0 0.0.0.255 any
access-list 100 permit ip 10.2.40.0 0.0.0.255 any
access-list 100 permit ip 10.2.50.0 0.0.0.255 any
access-list 100 permit ip 10.2.60.0 0.0.0.255 any
!
access-list 110 permit udp any any range 1719 1720  ! Extended ACL 110: permit UDP traffic in the range of ports 1719-1720 (H.323)
access-list 110 permit udp any any eq 5060           ! Permit UDP traffic on port 5060 (SIP)
access-list 110 permit tcp any any eq 5060           ! Permit TCP traffic on port 5060 (SIP)
access-list 110 permit tcp any any range 2000 2020    ! Permit TCP traffic in the range of ports 2000-2020
!
route-map VOIP_POLICY_IN permit 10                 ! Route-map VOIP_POLICY_IN, sequence 10
 match ip address 110                            ! Match traffic with ACL 110
 set ip precedence 5                             ! Set IP Precedence to 5
 set ip dscp ef                                  ! Set DSCP to EF
!
interface FastEthernet0/0.10                       ! Subinterface FastEthernet0/0.10 for VLAN 10 (Management)
 encapsulation dot1Q 10                           ! Dot1Q encapsulation for VLAN 10
 ip address 10.1.10.1 255.255.255.0               ! Subinterface IP address
 no shutdown                                      ! Enable the subinterface
!
interface FastEthernet0/0.20                       ! Subinterface FastEthernet0/0.20 for VLAN 20 (Sales)
 encapsulation dot1Q 20
 ip address 10.1.20.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.30                       ! Subinterface FastEthernet0/0.30 for VLAN 30 (Marketing)
 encapsulation dot1Q 30
 ip address 10.1.30.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.40                       ! Subinterface FastEthernet0/0.40 for VLAN 40 (IT)
 encapsulation dot1Q 40
 ip address 10.1.40.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.50                       ! Subinterface FastEthernet0/0.50 for VLAN 50 (Guest)
 encapsulation dot1Q 50
 ip address 10.1.50.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.60                       ! Subinterface FastEthernet0/0.60 for VLAN 60 (VoIP)
 encapsulation dot1Q 60
 ip address 10.1.60.1 255.255.255.0
 ip policy route-map VOIP_POLICY_IN in            ! Apply VOIP_POLICY_IN route-map for incoming traffic
 no shutdown
!
interface FastEthernet0/1                          ! Interface FastEthernet0/1
 shutdown                                         ! Disable the interface
!
interface Serial1/0                                ! Serial interface Serial1/0
 no ip address                                    ! No IP address on the main interface
 encapsulation frame-relay                        ! Frame Relay encapsulation
 frame-relay lmi-type cisco                       ! Cisco LMI type for Frame Relay
 service-policy output WAN-QoS-Policy             ! Apply WAN-QoS-Policy QoS policy for outgoing traffic
 no shutdown                                      ! Enable the interface
!
interface Serial1/0.201 point-to-point             ! Subinterface Serial1/0.201 for connection to HQ-Router (point-to-point)
 description Connection to HQ-Router              ! Connection description
 frame-relay interface-dlci 201                   ! Frame Relay DLCI
 bandwidth 64                                     ! Bandwidth 64 Kbps
 ip address 10.255.0.2 255.255.255.252            ! Subinterface IP address
 no shutdown                                      ! Enable the subinterface
!
interface Serial1/0.203 point-to-point             ! Subinterface Serial1/0.203 for connection to BR2-Router (point-to-point)
 description Connection to BR2-Router             ! Connection description
 frame-relay interface-dlci 203                   ! Frame Relay DLCI
 bandwidth 64                                     ! Bandwidth 64 Kbps
 ip address 10.255.0.9 255.255.255.252            ! Subinterface IP address
 no shutdown                                      ! Enable the subinterface
!
interface Serial1/1                                ! Serial interface Serial1/1
 shutdown                                         ! Disable the interface
interface Serial1/2                                ! Serial interface Serial1/2
 shutdown                                         ! Disable the interface
interface Serial1/3                                ! Serial interface Serial1/3
 shutdown                                         ! Disable the interface
!
router ospf 1                                      ! OSPF routing protocol configuration, process 1
 router-id 192.168.255.2                          ! OSPF router ID
 log-adjacency-changes                            ! Log adjacency changes
 passive-interface default                        ! All interfaces are passive by default (do not send OSPF updates)
 no passive-interface Serial1/0.201               ! Make subinterface Serial1/0.201 active (send OSPF updates)
 no passive-interface Serial1/0.203               ! Make subinterface Serial1/0.203 active (send OSPF updates)
 network 10.1.10.0 0.0.0.255 area 0               ! Announce networks in OSPF area 0
 network 10.1.20.0 0.0.0.255 area 0
 network 10.1.30.0 0.0.0.255 area 0
 network 10.1.40.0 0.0.0.255 area 0
 network 10.1.50.0 0.0.0.255 area 0
 network 10.1.60.0 0.0.0.255 area 0
 network 10.255.0.0 0.0.0.3 area 0
 network 10.255.0.8 0.0.0.3 area 0
 network 192.168.255.2 0.0.0.0 area 0
 default-information originate                    ! Propagate the default route in OSPF
!
telephony-service                                  ! IP telephony service configuration
 max-ephones 20                                   ! Maximum number of IP phones
 max-dn 40                                        ! Maximum number of phone numbers
 ip source-address 192.168.255.1 port 2000        ! Source IP address and port for IP telephony
 auto assign 1 to 20                              ! Automatically assign numbers to phones
 create cnf-files                                 ! Create configuration files for phones
!
ephone-dn 7                                        ! Configure phone number 7
 number 2001                                      ! Phone number
ephone-dn 8                                        ! Configure phone number 8
 number 2002                                      ! Phone number
ephone-dn 9                                        ! Configure phone number 9
 number 2003                                      ! Phone number
ephone-dn 10                                       ! Configure phone number 10
 number 2004                                      ! Phone number
ephone-dn 11                                       ! Configure phone number 11
 number 2005                                      ! Phone number
ephone-dn 12                                       ! Configure phone number 12
 number 2006                                      ! Phone number
!
ephone 7                                           ! Configure IP phone 7
 mac-address 0001.6373.E2CD                         ! Phone MAC address
 type 7960                                        ! Phone type
 button 1:7                                       ! Assign button 1 to number 7
!
ephone 8                                           ! Configure IP phone 8
 mac-address 0001.6373.E2CE
 type 7960
 button 1:8
!
ephone 9                                           ! Configure IP phone 9
 mac-address 0001.6373.E2CF
 type 7960
 button 1:9
!
ephone 10                                          ! Configure IP phone 10
 mac-address 0001.6373.E2D0
 type 7960
 button 1:10
!
ephone 11                                          ! Configure IP phone 11
 mac-address 0001.6373.E2D1
 type 7960
 button 1:11
!
ephone 12                                          ! Configure IP phone 12
 mac-address 0001.6373.E2D2
 type 7960
 button 1:12
!
end



! -----------------------------------------------------------------
! BR1-L3-SW1 Switch Configuration
! -----------------------------------------------------------------
hostname BR1-L3-SW1
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message of the Day" banner displayed upon login
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name br1.local       ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Configure the console line
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent interruption of command input by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Configure virtual terminal lines (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
no ip routing                  ! Disable IP routing (since this is an L3 switch, routing is enabled via SVI)
ip default-gateway 10.1.10.1   ! Set the default gateway for the switch
!
spanning-tree vlan 1-4094 root primary  ! Set the switch as the primary root bridge for all VLANs
!
mls qos                        ! Enable Quality of Service (QoS) at the Multi-Layer Switching level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
interface Vlan10               ! Configure VLAN 10 interface (SVI - Switched Virtual Interface)
 ip address 10.1.10.5 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
interface GigabitEthernet1/0/1     ! Configure interface GigabitEthernet1/0/1
 description Connected to BR1-Router Fa0/0  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode to trunk
 switchport trunk native vlan 999         ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface GigabitEthernet1/0/2     ! Configure interface GigabitEthernet1/0/2
 description Connected to BR1-L2-SW1 Gi0/1  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode to trunk
 switchport trunk native vlan 999         ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface GigabitEthernet1/0/3     ! Configure interface GigabitEthernet1/0/3
 description Connected to BR1-L2-SW2 Gi0/1  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode to trunk
 switchport trunk native vlan 999         ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface range GigabitEthernet1/0/4-24  ! Configure range of interfaces GigabitEthernet1/0/4-24
 shutdown                               ! Disable these interfaces
!
end



! -----------------------------------------------------------------
! BR1-L2-SW1 Switch Configuration
! -----------------------------------------------------------------
hostname BR1-L2-SW1
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message of the Day" banner displayed upon login
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name br1.local       ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Configure the console line
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent interruption of command input by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Configure virtual terminal lines (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
mls qos                        ! Enable Quality of Service (QoS) at the Multi-Layer Switching level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
spanning-tree portfast default           ! Enable Portfast by default on all access ports
spanning-tree portfast bpduguard default ! Enable BPDU Guard by default on all ports with Portfast to prevent loops
!
interface Vlan10               ! Configure VLAN 10 interface (SVI - Switched Virtual Interface)
 ip address 10.1.10.7 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
ip default-gateway 10.1.10.1   ! Set the default gateway for the switch
!
interface GigabitEthernet0/1       ! Configure interface GigabitEthernet0/1
 description Connected to BR1-L3-SW1 Gi1/0/2  ! Interface description
 switchport trunk encapsulation dot1q       ! Set trunk encapsulation to Dot1q
 switchport mode trunk                      ! Set the port mode to trunk
 switchport trunk native vlan 999           ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                         ! Trust DSCP values for QoS on this port
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/1          ! Configure interface FastEthernet0/1
 description Connected to Management PC  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 10                  ! Assign the port to VLAN 10
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/2          ! Configure interface FastEthernet0/2
 description Connected to IT PC         ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/3          ! Configure interface FastEthernet0/3
 description Connected to Sales PC      ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 20                  ! Assign the port to VLAN 20
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/20         ! Configure interface FastEthernet0/20
 description Connected to VoIP Phone  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40 (for data)
 switchport voice vlan 60                   ! Assign voice VLAN 60
 auto qos voip trust                        ! Enable automatic QoS for VoIP, trusting QoS markings
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 2         ! Allow up to 2 MAC addresses on the port (for phone and PC behind it)
 switchport port-security mac-address sticky ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface range FastEthernet0/4-19, FastEthernet0/21-24 ! Configure range of interfaces FastEthernet0/4-19 and FastEthernet0/21-24
 shutdown                                   ! Disable these interfaces
!
end



! -----------------------------------------------------------------
! BR1-L2-SW2 Switch Configuration
! -----------------------------------------------------------------
hostname BR1-L2-SW2
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message Of The Day" banner displayed upon login.
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays due to incorrect command input
ip domain-name br1.local       ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Console line configuration
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent command input interruption by log messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Virtual terminal lines (VTY) configuration for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use local user database for authentication
!
mls qos                        ! Enable QoS (Quality of Service) at the MLS (Multi-Layer Switching) level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as the Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
spanning-tree portfast default           ! Enable Portfast by default on all access ports
spanning-tree portfast bpduguard default ! Enable BPDU Guard by default on all Portfast ports to prevent loops
!
interface Vlan10               ! VLAN 10 interface configuration (SVI - Switched Virtual Interface)
 ip address 10.1.10.9 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
ip default-gateway 10.1.10.1   ! Set the default gateway for the switch
!
interface GigabitEthernet0/1       ! GigabitEthernet0/1 interface configuration
 description Connected to BR1-L3-SW1 Gi1/0/3  ! Interface description
 switchport trunk encapsulation dot1q       ! Set Dot1q trunk encapsulation
 switchport mode trunk                      ! Set the port mode as trunk
 switchport trunk native vlan 999           ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow the specified VLANs to pass through the trunk
 mls qos trust dscp                         ! Trust DSCP values for QoS on this port
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/1          ! FastEthernet0/1 interface configuration
 description Connected to IT PC         ! Interface description
 switchport mode access                     ! Set the port mode as access
 switchport access vlan 40                  ! Assign the port to VLAN 40
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic MAC address learning and save them to the configuration (sticky)
 switchport port-security violation restrict  ! On Port Security violation, drop packets but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for rapid transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/2          ! FastEthernet0/2 interface configuration
 description Connected to Sales PC      ! Interface description
 switchport mode access                     ! Set the port mode as access
 switchport access vlan 20                  ! Assign the port to VLAN 20
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic MAC address learning and save them to the configuration (sticky)
 switchport port-security violation restrict  ! On Port Security violation, drop packets but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for rapid transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/3          ! FastEthernet0/3 interface configuration
 description Connected to Guest PC      ! Interface description
 switchport mode access                     ! Set the port mode as access
 switchport access vlan 50                  ! Assign the port to VLAN 50
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic MAC address learning and save them to the configuration (sticky)
 switchport port-security violation restrict  ! On Port Security violation, drop packets but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for rapid transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/4          ! FastEthernet0/4 interface configuration
 description Connected to Sales PC      ! Interface description
 switchport mode access                     ! Set the port mode as access
 switchport access vlan 20                  ! Assign the port to VLAN 20
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic MAC address learning and save them to the configuration (sticky)
 switchport port-security violation restrict  ! On Port Security violation, drop packets but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for rapid transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/20         ! FastEthernet0/20 interface configuration
 description Connected to VoIP Phone  ! Interface description
 switchport mode access                     ! Set the port mode as access
 switchport access vlan 40                  ! Assign the port to VLAN 40 (for data)
 switchport voice vlan 60                   ! Assign the voice VLAN 60
 auto qos voip trust                        ! Enable automatic QoS for VoIP, trusting QoS labels
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 2         ! Allow up to 2 MAC addresses on the port (for the phone and the PC behind it)
 switchport port-security mac-address sticky  ! Allow dynamic MAC address learning and save them to the configuration (sticky)
 switchport port-security violation restrict  ! On Port Security violation, drop packets but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for rapid transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface range FastEthernet0/5-19, FastEthernet0/21-24  ! Configuration for the range of interfaces FastEthernet0/5-19 and FastEthernet0/21-24
 shutdown                                   ! Disable these interfaces
!
interface GigabitEthernet0/2       ! GigabitEthernet0/2 interface configuration
 shutdown                           ! Disable the interface
!
end



! =================================================================
! BR2-Router Configuration
! =================================================================
service password-encryption          ! Enable encryption of all passwords in the configuration
!
hostname BR2-Router                  ! Router hostname
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode
!
ip dhcp excluded-address 10.2.10.1   ! Exclude IP addresses from DHCP pools (e.g., for gateways or static assignments)
ip dhcp excluded-address 10.2.20.1
ip dhcp excluded-address 10.2.30.1
ip dhcp excluded-address 10.2.40.1
ip dhcp excluded-address 10.2.50.1
ip dhcp excluded-address 10.2.60.1
ip dhcp excluded-address 10.2.10.6
ip dhcp excluded-address 10.2.10.8
ip dhcp excluded-address 10.2.10.10
!
ip dhcp pool MANAGEMENT_VLAN         ! DHCP pool for management VLAN
 network 10.2.10.0 255.255.255.0     ! Network and mask
 default-router 10.2.10.1          ! Default gateway for DHCP clients
 option 150 ip 192.168.255.1       ! TFTP server IP address (for IP phones)
 dns-server 8.8.8.8                ! DNS server for DHCP clients
ip dhcp pool SALES_VLAN              ! DHCP pool for sales VLAN
 network 10.2.20.0 255.255.255.0
 default-router 10.2.20.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool MARKETING_VLAN          ! DHCP pool for marketing VLAN
 network 10.2.30.0 255.255.255.0
 default-router 10.2.30.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool IT_VLAN                 ! DHCP pool for IT VLAN
 network 10.2.40.0 255.255.255.0
 default-router 10.2.40.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
ip dhcp pool GUEST_VLAN              ! DHCP pool for guest VLAN
 network 10.2.50.0 255.255.255.0
 default-router 10.2.50.1
 dns-server 8.8.8.8
ip dhcp pool VOIP_VLAN               ! DHCP pool for VoIP VLAN
 network 10.2.60.0 255.255.255.0
 default-router 10.2.60.1
 option 150 ip 192.168.255.1
 dns-server 8.8.8.8
!
ip cef                               ! Enable Cisco Express Forwarding (CEF) for fast packet switching
no ipv6 cef                          ! Disable IPv6 CEF
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
no ip domain-lookup                  ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name br2.local             ! Set the domain name for the device
!
class-map match-any VOICE            ! Class map for voice traffic (VoIP)
 match ip dscp ef                  ! Match traffic with DSCP EF (Expedited Forwarding)
 match ip precedence 5             ! Match traffic with IP precedence 5
class-map match-any CALL-SIGNALING   ! Class map for call signaling traffic
 match ip dscp cs3                 ! Match traffic with DSCP CS3
 match ip precedence 3             ! Match traffic with IP precedence 3
class-map match-any DATA             ! Class map for data traffic
 match not ip dscp cs6              ! Match all traffic except DSCP CS6
 match not ip precedence 6          ! Match all traffic except IP precedence 6
!
policy-map WAN-QoS-Policy            ! QoS policy for WAN connection
 class VOICE                       ! For VOICE class
  priority percent 30                ! Allocate 30% bandwidth with priority
 class CALL-SIGNALING              ! For CALL-SIGNALING class
  bandwidth remaining percent 10     ! Allocate 10% of remaining bandwidth
 class DATA                        ! For DATA class
  bandwidth remaining percent 60     ! Allocate 60% of remaining bandwidth
  random-detect                    ! Enable Random Early Detection (RED) to prevent congestion
 class class-default               ! For all other traffic
  fair-queue                       ! Use fair queueing
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Standard ACL 10: permit network 10.0.10.0/24
access-list 10 permit 10.1.10.0 0.0.0.255  ! Permit network 10.1.10.0/24
access-list 10 permit 10.2.10.0 0.0.0.255  ! Permit network 10.2.10.0/24
!
access-list 100 permit ip 10.0.10.0 0.0.0.255 any  ! Extended ACL 100: permit IP traffic from 10.0.10.0/24 to any destination
access-list 100 permit ip 10.0.20.0 0.0.0.255 any
access-list 100 permit ip 10.0.30.0 0.0.0.255 any
access-list 100 permit ip 10.0.40.0 0.0.0.255 any
access-list 100 permit ip 10.0.50.0 0.0.0.255 any
access-list 100 permit ip 10.0.60.0 0.0.0.255 any
access-list 100 permit ip 10.1.10.0 0.0.0.255 any
access-list 100 permit ip 10.1.20.0 0.0.0.255 any
access-list 100 permit ip 10.1.30.0 0.0.0.255 any
access-list 100 permit ip 10.1.40.0 0.0.0.255 any
access-list 100 permit ip 10.1.50.0 0.0.0.255 any
access-list 100 permit ip 10.1.60.0 0.0.0.255 any
access-list 100 permit ip 10.2.10.0 0.0.0.255 any
access-list 100 permit ip 10.2.20.0 0.0.0.255 any
access-list 100 permit ip 10.2.30.0 0.0.0.255 any
access-list 100 permit ip 10.2.40.0 0.0.0.255 any
access-list 100 permit ip 10.2.50.0 0.0.0.255 any
access-list 100 permit ip 10.2.60.0 0.0.0.255 any
!
access-list 110 permit udp any any range 1719 1720  ! Extended ACL 110: permit UDP traffic in port range 1719-1720 (H.323)
access-list 110 permit udp any any eq 5060           ! Permit UDP traffic on port 5060 (SIP)
access-list 110 permit tcp any any eq 5060           ! Permit TCP traffic on port 5060 (SIP)
access-list 110 permit tcp any any range 2000 2020    ! Permit TCP traffic in port range 2000-2020
!
route-map VOIP_POLICY_IN permit 10                 ! Route-map VOIP_POLICY_IN, sequence 10
 match ip address 110                            ! Match traffic with ACL 110
 set ip precedence 5                             ! Set IP precedence 5
 set ip dscp ef                                  ! Set DSCP EF
!
interface FastEthernet0/0.10                       ! Subinterface FastEthernet0/0.10 for VLAN 10 (Management)
 encapsulation dot1Q 10                           ! Dot1Q encapsulation for VLAN 10
 ip address 10.2.10.1 255.255.255.0               ! Subinterface IP address
 no shutdown                                      ! Enable subinterface
!
interface FastEthernet0/0.20                       ! Subinterface FastEthernet0/0.20 for VLAN 20 (Sales)
 encapsulation dot1Q 20
 ip address 10.2.20.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.30                       ! Subinterface FastEthernet0/0.30 for VLAN 30 (Marketing)
 encapsulation dot1Q 30
 ip address 10.2.30.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.40                       ! Subinterface FastEthernet0/0.40 for VLAN 40 (IT)
 encapsulation dot1Q 40
 ip address 10.2.40.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.50                       ! Subinterface FastEthernet0/0.50 for VLAN 50 (Guest)
 encapsulation dot1Q 50
 ip address 10.2.50.1 255.255.255.0
 no shutdown
!
interface FastEthernet0/0.60                       ! Subinterface FastEthernet0/0.60 for VLAN 60 (VoIP)
 encapsulation dot1Q 60
 ip address 10.2.60.1 255.255.255.0
 ip policy route-map VOIP_POLICY_IN in            ! Apply routing policy VOIP_POLICY_IN for incoming traffic
 no shutdown
!
interface FastEthernet0/1                          ! Interface FastEthernet0/1
 shutdown                                         ! Disable interface
!
interface Serial1/0                                ! Serial interface Serial1/0
 no ip address                                    ! No IP address on the main interface
 encapsulation frame-relay                        ! Frame Relay encapsulation
 frame-relay lmi-type cisco                       ! Cisco LMI type for Frame Relay
 service-policy output WAN-QoS-Policy             ! Apply QoS policy WAN-QoS-Policy for outgoing traffic
 no shutdown                                      ! Enable interface
!
interface Serial1/0.301 point-to-point             ! Subinterface Serial1/0.301 for connection to HQ-Router (point-to-point)
 description Connection to HQ-Router              ! Connection description
 frame-relay interface-dlci 301                   ! Frame Relay DLCI
 bandwidth 64                                     ! Bandwidth 64 Kbps
 ip address 10.255.0.6 255.255.255.252            ! Subinterface IP address
 no shutdown                                      ! Enable subinterface
!
interface Serial1/0.302 point-to-point             ! Subinterface Serial1/0.302 for connection to BR1-Router (point-to-point)
 description Connection to BR1-Router             ! Connection description
 frame-relay interface-dlci 302                   ! Frame Relay DLCI
 bandwidth 64                                     ! Bandwidth 64 Kbps
 ip address 10.255.0.10 255.255.255.252           ! Subinterface IP address
 no shutdown                                      ! Enable subinterface
!
interface Serial1/1                                ! Serial interface Serial1/1
 shutdown                                         ! Disable interface
interface Serial1/2                                ! Serial interface Serial1/2
 shutdown                                         ! Disable interface
interface Serial1/3                                ! Serial interface Serial1/3
 shutdown                                         ! Disable interface
!
router ospf 1                                      ! OSPF routing protocol configuration, process 1
 router-id 192.168.255.3                          ! OSPF router ID
 log-adjacency-changes                            ! Log adjacency changes
 passive-interface default                        ! All interfaces passive by default (do not send OSPF updates)
 no passive-interface Serial1/0.301               ! Make subinterface Serial1/0.301 active (send OSPF updates)
 no passive-interface Serial1/0.302               ! Make subinterface Serial1/0.302 active (send OSPF updates)
 network 10.2.10.0 0.0.0.255 area 0               ! Advertise networks in OSPF area 0
 network 10.2.20.0 0.0.0.255 area 0
 network 10.2.30.0 0.0.0.255 area 0
 network 10.2.40.0 0.0.0.255 area 0
 network 10.2.50.0 0.0.0.255 area 0
 network 10.2.60.0 0.0.0.255 area 0
 network 10.255.0.4 0.0.0.3 area 0
 network 10.255.0.8 0.0.0.3 area 0
 network 192.168.255.3 0.0.0.0 area 0
 default-information originate                    ! Propagate default route in OSPF
!
telephony-service                                  ! IP telephony service configuration
 max-ephones 20                                   ! Maximum number of IP phones
 max-dn 40                                        ! Maximum number of phone numbers
 ip source-address 192.168.255.1 port 2000        ! Source IP address and port for IP telephony
 auto assign 1 to 20                              ! Automatically assign phone numbers
 create cnf-files                                 ! Create configuration files for phones
!
ephone-dn 13                                       ! Phone number 13 configuration
 number 3001                                      ! Phone number
ephone-dn 14                                       ! Phone number 14 configuration
 number 3002                                      ! Phone number
ephone-dn 15                                       ! Phone number 15 configuration
 number 3003                                      ! Phone number
ephone-dn 16                                       ! Phone number 16 configuration
 number 3004                                      ! Phone number
ephone-dn 17                                       ! Phone number 17 configuration
 number 3005                                      ! Phone number
ephone-dn 18                                       ! Phone number 18 configuration
 number 3006                                      ! Phone number
!
ephone 13                                          ! IP phone 13 configuration
 mac-address 0001.6373.E2D3                         ! Phone MAC address
 type 7960                                        ! Phone type
 button 1:13                                      ! Assign button 1 to number 13
!
ephone 14                                          ! IP phone 14 configuration
 mac-address 0001.6373.E2D4
 type 7960
 button 1:14
!
ephone 15                                          ! IP phone 15 configuration
 mac-address 0001.6373.E2D5
 type 7960
 button 1:15
!
ephone 16                                          ! IP phone 16 configuration
 mac-address 0001.6373.E2D6
 type 7960
 button 1:16
!
ephone 17                                          ! IP phone 17 configuration
 mac-address 0001.6373.E2D7
 type 7960
 button 1:17
!
ephone 18                                          ! IP phone 18 configuration
 mac-address 0001.6373.E2D8
 type 7960
 button 1:18
!
end



! -----------------------------------------------------------------
! BR2-L3-SW1 Switch Configuration
! -----------------------------------------------------------------
hostname BR2-L3-SW1
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message Of The Day" banner, displayed upon login.
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays due to incorrect command input
ip domain-name br2.local       ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Console line configuration
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent command input interruption by log messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Virtual terminal line (VTY) configuration for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
no ip routing                  ! Disable IP routing (as this is an L3 switch, routing will be enabled via SVI)
ip default-gateway 10.2.10.1   ! Set the default gateway for the switch
!
spanning-tree vlan 1-4094 root primary  ! Configure the switch as the primary root bridge for all VLANs
!
mls qos                        ! Enable QoS (Quality of Service) at the MLS (Multi-Layer Switching) level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as the Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
interface Vlan10               ! VLAN 10 interface configuration (SVI - Switched Virtual Interface)
 ip address 10.2.10.6 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
interface GigabitEthernet1/0/1     ! GigabitEthernet1/0/1 interface configuration
 description Connected to BR2-Router Fa0/0  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode to trunk
 switchport trunk native vlan 999         ! Set the trunk's Native VLAN to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow the specified VLANs to pass through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface GigabitEthernet1/0/2     ! GigabitEthernet1/0/2 interface configuration
 description Connected to BR2-L2-SW1 Gi0/1  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode to trunk
 switchport trunk native vlan 999         ! Set the trunk's Native VLAN to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow the specified VLANs to pass through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface GigabitEthernet1/0/3     ! GigabitEthernet1/0/3 interface configuration
 description Connected to BR2-L2-SW2 Gi0/1  ! Interface description
 switchport trunk encapsulation dot1q     ! Set trunk encapsulation to Dot1q
 switchport mode trunk                    ! Set the port mode to trunk
 switchport trunk native vlan 999         ! Set the trunk's Native VLAN to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow the specified VLANs to pass through the trunk
 mls qos trust dscp                       ! Trust DSCP values for QoS on this port
 no shutdown                              ! Enable the interface
!
interface range GigabitEthernet1/0/4-24  ! GigabitEthernet1/0/4-24 interface range configuration
 shutdown                               ! Disable these interfaces
!
end



! -----------------------------------------------------------------
! BR2-L2-SW1 Switch Configuration
! -----------------------------------------------------------------
hostname BR2-L2-SW1
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message of the Day" banner displayed upon login
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name br2.local       ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Configure the console line
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent interruption of command input by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Configure virtual terminal lines (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
mls qos                        ! Enable Quality of Service (QoS) at the Multi-Layer Switching level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
spanning-tree portfast default           ! Enable Portfast by default on all access ports
spanning-tree portfast bpduguard default ! Enable BPDU Guard by default on all ports with Portfast to prevent loops
!
interface Vlan10               ! Configure VLAN 10 interface (SVI - Switched Virtual Interface)
 ip address 10.2.10.8 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
ip default-gateway 10.2.10.1   ! Set the default gateway for the switch
!
interface GigabitEthernet0/1       ! Configure interface GigabitEthernet0/1
 description Connected to BR2-L3-SW1 Gi1/0/2  ! Interface description
 switchport trunk encapsulation dot1q       ! Set trunk encapsulation to Dot1q
 switchport mode trunk                      ! Set the port mode to trunk
 switchport trunk native vlan 999           ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                         ! Trust DSCP values for QoS on this port
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/1          ! Configure interface FastEthernet0/1
 description Connected to IT PC         ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/2          ! Configure interface FastEthernet0/2
 description Connected to Sales PC      ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 20                  ! Assign the port to VLAN 20
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/20         ! Configure interface FastEthernet0/20
 description Connected to VoIP Phone  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40 (for data)
 switchport voice vlan 60                   ! Assign voice VLAN 60
 auto qos voip trust                        ! Enable automatic QoS for VoIP, trusting QoS markings
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 2         ! Allow up to 2 MAC addresses on the port (for phone and PC behind it)
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface range FastEthernet0/3-19, FastEthernet0/21-24  ! Configure range of interfaces FastEthernet0/3-19 and FastEthernet0/21-24
 shutdown                                   ! Disable these interfaces
!
end



! -----------------------------------------------------------------
! BR2-L2-SW2 Switch Configuration
! -----------------------------------------------------------------
hostname BR2-L2-SW2
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Encrypted password for privileged mode (enable secret)
service password-encryption                    ! Enable encryption of all passwords in the configuration
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0  ! Create user 'admin' with full privileges (level 15) and encrypted password
!
banner motd ^CUnauthorized access prohibited!^C  ! Set the "Message of the Day" banner displayed upon login
!
no ip domain-lookup            ! Disable domain name lookup to prevent delays from incorrect command input
ip domain-name br2.local       ! Set the domain name for the device
!
crypto key generate rsa general-keys modulus 2048  ! Generate RSA keys for SSH with a modulus length of 2048 bits
ip ssh version 2               ! Enable SSH version 2
!
line console 0                 ! Configure the console line
 password 7 0822455D0A16      ! Encrypted password for console access
 logging synchronous            ! Enable synchronous logging to prevent interruption of command input by messages
 login                          ! Require authentication for console access
!
line vty 0 4                   ! Configure virtual terminal lines (VTY) for remote access (SSH/Telnet)
 access-class 10 in             ! Apply access control list (ACL) 10 for incoming traffic
 transport input ssh            ! Allow only SSH connections
 login local                    ! Use the local user database for authentication
!
mls qos                        ! Enable Quality of Service (QoS) at the Multi-Layer Switching level
!
vlan 10                        ! Create VLAN 10
 name Management                ! Assign the name "Management" to VLAN 10
vlan 20                        ! Create VLAN 20
 name Sales                     ! Assign the name "Sales" to VLAN 20
vlan 30                        ! Create VLAN 30
 name Marketing                 ! Assign the name "Marketing" to VLAN 30
vlan 40                        ! Create VLAN 40
 name IT                        ! Assign the name "IT" to VLAN 40
vlan 50                        ! Create VLAN 50
 name Guest                     ! Assign the name "Guest" to VLAN 50
vlan 60                        ! Create VLAN 60
 name VoIP                      ! Assign the name "VoIP" to VLAN 60
vlan 999                       ! Create VLAN 999
 name NATIVE_VLAN               ! Assign the name "NATIVE_VLAN" to VLAN 999 (used as Native VLAN for trunks)
!
access-list 10 permit 10.0.10.0 0.0.0.255  ! Allow traffic from the 10.0.10.0/24 network in ACL 10
access-list 10 permit 10.1.10.0 0.0.0.255  ! Allow traffic from the 10.1.10.0/24 network in ACL 10
access-list 10 permit 10.2.10.0 0.0.0.255  ! Allow traffic from the 10.2.10.0/24 network in ACL 10
!
spanning-tree portfast default           ! Enable Portfast by default on all access ports
spanning-tree portfast bpduguard default ! Enable BPDU Guard by default on all ports with Portfast to prevent loops
!
interface Vlan10               ! Configure VLAN 10 interface (SVI - Switched Virtual Interface)
 ip address 10.2.10.10 255.255.255.0  ! Set the IP address for VLAN 10 interface
 no shutdown                    ! Enable the interface
!
ip default-gateway 10.2.10.1   ! Set the default gateway for the switch
!
interface GigabitEthernet0/1       ! Configure interface GigabitEthernet0/1
 description Connected to BR2-L3-SW1 Gi1/0/3  ! Interface description
 switchport trunk encapsulation dot1q       ! Set trunk encapsulation to Dot1q
 switchport mode trunk                      ! Set the port mode to trunk
 switchport trunk native vlan 999           ! Set the Native VLAN for the trunk to 999
 switchport trunk allowed vlan 10,20,30,40,50,60 ! Allow specified VLANs through the trunk
 mls qos trust dscp                         ! Trust DSCP values for QoS on this port
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/1          ! Configure interface FastEthernet0/1
 description Connected to Marketing PC  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 30                  ! Assign the port to VLAN 30
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/2          ! Configure interface FastEthernet0/2
 description Connected to Guest PC      ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 50                  ! Assign the port to VLAN 50
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/3          ! Configure interface FastEthernet0/3
 description Connected to Management PC  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 10                  ! Assign the port to VLAN 10
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/4          ! Configure interface FastEthernet0/4
 description Connected to IT PC         ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 1         ! Allow only 1 MAC address on the port
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface FastEthernet0/20         ! Configure interface FastEthernet0/20
 description Connected to VoIP Phone  ! Interface description
 switchport mode access                     ! Set the port mode to access
 switchport access vlan 40                  ! Assign the port to VLAN 40 (for data)
 switchport voice vlan 60                   ! Assign voice VLAN 60
 auto qos voip trust                        ! Enable automatic QoS for VoIP, trusting QoS markings
 switchport port-security                   ! Enable Port Security
 switchport port-security maximum 2         ! Allow up to 2 MAC addresses on the port (for phone and PC behind it)
 switchport port-security mac-address sticky  ! Allow dynamic learning of MAC addresses and save them in the configuration (sticky)
 switchport port-security violation restrict  ! Drop packets on Port Security violation but do not disable the port
 spanning-tree portfast                     ! Enable Portfast for quick transition to forwarding state
 no shutdown                                ! Enable the interface
!
interface range FastEthernet0/5-19, FastEthernet0/21-24  ! Configure range of interfaces FastEthernet0/5-19 and FastEthernet0/21-24
 shutdown                                   ! Disable these interfaces
!
interface GigabitEthernet0/2       ! Configure interface GigabitEthernet0/2
 shutdown                           ! Disable the interface
!
end
